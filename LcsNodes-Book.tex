\tracingpages=1
%--------------------------------------------------------------------------------
%
%
%
%--------------------------------------------------------------------------------
\documentclass[a4paper, 11pt]{book}

%--------------------------------------------------------------------------------
% Load packages and styles
%--------------------------------------------------------------------------------
\input{latex-resources/packages}
\input{latex-resources/styles}

\makeindex

%--------------------------------------------------------------------------------
% Document start.
%
%--------------------------------------------------------------------------------
\begin{document}

	%----------------------------------------------------------------------------
    % Listing Path and Toggle
    %
    %----------------------------------------------------------------------------
    \newcommand{\srcinputpath}{../../LcsNodes-Pico/}
    \newtoggle{includeListings}
    \togglefalse{includeListings} 
    
 	%----------------------------------------------------------------------------
    % Title page.
    %
    %----------------------------------------------------------------------------
    \input{titlepage/titlepage}
   		
    %----------------------------------------------------------------------------
	% Page formatting options
	%----------------------------------------------------------------------------
	\setlength{\emergencystretch}{3em}  % Allow line breaks in long lines
	\raggedbottom

	%----------------------------------------------------------------------------
	% Front matter (table of contents, etc.)
	%----------------------------------------------------------------------------
	\frontmatter
	\pagestyle{fancy}
	\tableofcontents
	\addcontentsline{toc}{chapter}{Tables of Contents}

	\cleardoublepage
	\addcontentsline{toc}{chapter}{List of Figures}
	\listoffigures
	\cleardoublepage
	
	\addcontentsline{toc}{chapter}{List of Tables}
	\listoftables

    %----------------------------------------------------------------------------
	% Fix headers for unnumbered chapters.
	%----------------------------------------------------------------------------
	\markboth{ }{ }

	%----------------------------------------------------------------------------
	% Main matter (chapters)
	%----------------------------------------------------------------------------
	\mainmatter
	\pagestyle{fancy}
	
	%----------------------------------------------------------------------------
	\include{chapters/chapter-lcs-introduction}
	 
	%----------------------------------------------------------------------------
    \part{LCS Concepts}    
   
    \include{chapters/chapter-lcs-concepts-general}
    \include{chapters/chapter-lcs-concepts-message-format} 
    \include{chapters/chapter-lcs-concepts-message-protocols} 
    \include{chapters/chapter-lcs-concepts-dcc-subsystem}
    \include{chapters/chapter-lcs-concepts-analog-subsystem}
    \include{chapters/chapter-lcs-concepts-hardware-modules}
    \include{chapters/chapter-lcs-concepts-sensors-and-actors}
    \include{chapters/chapter-lcs-concepts-summary}

    %----------------------------------------------------------------------------
    \part{LCS Core Layer} 
    
    \include{chapters/chapter-lcs-runtime-lib}
    \include{chapters/chapter-lcs-runtime-lib-command-interface}
    \include{chapters/chapter-lcs-runtime-lib-example}
    \include{chapters/chapter-lcs-controller-dependent-code} 
    \include{chapters/chapter-lcs-ui-elements}
    \include{chapters/chapter-lcs-concepts-firmware-design}
    
    %----------------------------------------------------------------------------
    \part{LCS Hardware}
    
    \include{chapters/chapter-lcs-concepts-hardware-main-module-design}
    \include{chapters/chapter-lcs-main-controller-hardware-pico}
	\include{chapters/chapter-lcs-power-module-design}
    \include{chapters/chapter-lcs-railcom-signal-detector}
    \include{chapters/chapter-lcs-hardware-part-summary}
   
    %----------------------------------------------------------------------------
	\part{LCS Modules}

	\include{chapters/chapter-lcs-base-station-introduction}
 	\include{chapters/chapter-lcs-base-station-hardware}
 	\include{chapters/chapter-lcs-base-station-firmware}
 	
 	\include{chapters/chapter-lcs-cab-handheld-introduction}
 	\include{chapters/chapter-lcs-cab-handheld-hardware}
 	\include{chapters/chapter-lcs-cab-handheld-firmware}

	\include{chapters/chapter-lcs-block-controller-introduction}
	\include{chapters/chapter-lcs-concepts-signaling-block-control}
 	\include{chapters/chapter-lcs-block-controller-hardware}
 	\include{chapters/chapter-lcs-block-controller-firmware}
 	
 	\include{chapters/chapter-lcs-gateway-module}
 	
 
  	%----------------------------------------------------------------------------
 	\part{LCS Extensions}
 	
 	\include{chapters/chapter-lcs-concepts-hardware-extension-module-design}
    \include{chapters/chapter-lcs-extensions-track-occupancy-detector}
   	\include{chapters/chapter-lcs-extension-32-servo-16-dio}
    \include{chapters/chapter-lcs-extension-cab-control}
    
    % \include{chapters/LCS-Extensions/LCS-Extension-Servo}
    % \include{chapters/LCS-Extensions/LCS-Extension-GPIO}
    % \include{chapters/LCS-Extensions/LCS-Extension-Signal}
    % \include{chapters/LCS-Extensions/LCS-Extension-Turnout}
    % \include{chapters/LCS-Extensions/LCS-Extension-Relay}
    % \include{chapters/LCS-Extensions/LCS-Extension-Combo-Board}
    
    %----------------------------------------------------------------------------
 	\part{LCS Utilities}
 	
 	\include{chapters/chapter-lcs-dcc-monitoring}
   	\include{chapters/chapter-lcs-layout-connector-panel}
    \include{chapters/chapter-lcs-utility-boards}
	\include{chapters/chapter-lcs-firmware-update}
    
    %----------------------------------------------------------------------------
    \part{LCS Configuration}
    
    \include{chapters/chapter-lcs-layout-system-configuration}
    
    
    %----------------------------------------------------------------------------
    \part{Appendix}   
    
    \appendix 

   	\include{appendices/appendix-lcs-resources}
    \include{appendices/appendix-nodes-and-easyeda}
    \include{appendices/appendix-inspiring-work-and-links} 
    \include{appendices/tests}

    
    % \include{appendices/LCS-Item-Reference}
    % \include{appendices/LCS-Command-Reference}
    % \include{appendices/DCC-PP-Command-Reference}
    % \include{appendices/LCS-Runtime-Lib-Reference}
    % \include{appendices/LCS-CDC-Lib-Reference}
    % \include{appendices/Generic-Power-Supply}
    % \include{appendices/appendix-lcs-guidance-computer}
    
    % \iftoggle{includeListings}{ \include{appendices/listings} }
        
    \backmatter    
    
    \printindex         

\end{document}
